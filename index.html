<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>사용자 등록 시스템</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }
        form {
            display: flex;
            flex-direction: column;
        }
        input, button {
            margin: 10px 0;
            padding: 5px;
        }
    </style>
</head>
<body>
    <h1>사용자 등록</h1>
    <form id="registrationForm">
        <input type="text" id="username" placeholder="아이디" required>
        <input type="password" id="password" placeholder="비밀번호" required>
        <button type="submit">가입하기</button>
    </form>
    <div id="message"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha256/0.9.0/sha256.min.js"></script>
    <script>
        document.getElementById('registrationForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // 비밀번호를 해시 처리
            const hashedPassword = sha256(password);
            
            const userInfo = {
                username: username,
                password: hashedPassword
            };
            
            // 로컬 스토리지에 사용자 정보 저장
            let users = JSON.parse(localStorage.getItem('users')) || [];
            users.push(userInfo);
            localStorage.setItem('users', JSON.stringify(users));
            
            document.getElementById('message').textContent = '회원가입이 완료되었습니다!';
            
            // 폼 초기화
            this.reset();
        });

        // 저장된 사용자 목록 표시 (실제 애플리케이션에서는 보안상의 이유로 이 부분을 제거해야 합니다)
        function displayUsers() {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const userList = users.map(user => `아이디: ${user.username}, 해시된 비밀번호: ${user.password}`).join('<br>');
            document.getElementById('message').innerHTML += '<br><br>등록된 사용자:<br>' + userList;
        }

        window.onload = displayUsers;
    </script>
</body>
</html>
